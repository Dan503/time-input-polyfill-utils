!function(){"use strict";var t={hrs12:{start:0,end:2,segment:"hrs12"},min:{start:3,end:5,segment:"min"},mode:{start:6,end:8,segment:"mode"}},e=Object.keys(t).map((function(e){return t[e]})),n={hrs24:{min:0,max:23},hrs12:{min:1,max:12},minutes:{min:0,max:59}},r="time-input-polyfill-accessibility-block",i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=["hrs24","hrs12","min","mode"],u={string12hr:/^([0-9-]{1,2}):([0-9-]{2})\s(AM|PM|--)$/,string24hr:/^$|^([0-9]{2}):([0-9]{2})$/},a=function(t){return Array.prototype.slice.call(t,0)},s=function(t){var e=Number(t);return isNaN(e)?t:e},m=function(t){var e=Number(t);return isNaN(e)&&"number"!=typeof t?t:e<10?"0"+e:""+e},c=function(t){var e=t.value,n=t.format,r=t.minHrs,i=t.maxHrs;if(!u[n].test(e))return!1;var o=u[n].exec(e),a=s(o[1]),m=s(o[2]);return("--"===a||a>=r&&a<=i)&&("--"===m||m>=0&&m<=59)},f=function(t){return 12<=t&&t<24},g=function(t){return"PM"===u.string12hr.exec(t)[3]},d=function(t){if(""===t)return!1;var e=s(u.string24hr.exec(t)[1]);return"number"==typeof e&&e>11},h=function(t){return"PM"===t.mode||"--"===t.mode&&(new Date).getHours()>11},l=function(t){return"--"!==t&&!f(t)},v=function(t){return""!==t&&!d(t)},b=function(t){return!h(t)},p=function(t){if(void 0===t||"object"!=typeof t)return!1;var e=Object.keys(t);if(0===e.length)return!1;var n=o.filter((function(t){return-1===e.indexOf(t)})),r=e.filter((function(t){return-1===o.indexOf(t)}));return 0===n.length&&0===r.length},S=function(t){return c({value:t,format:"string12hr",minHrs:1,maxHrs:12})},w=function(t){return""===t||c({value:t,format:"string24hr",minHrs:0,maxHrs:23})},M=function(t){return"string"==typeof t?'"'+t+'"':t},y=function(t){if(!S(t))throw new Error('"'+t+'" is not a valid 12 hour time, use the format "HH:MM AM/PM"');return!0},O=function(t){if(!w(t)){var e=(/-/.test(t)?' Use an empty string instead of "--:--" to represent a blank value':/24:\d\d/.test(t)&&' Use "00" instead of "24".')||"";throw new Error('"'+t+'" is not a valid 24 hour time.'+e)}return!0},j=function(t){var e=t.hrs24,n=t.hrs12,r=t.min,i=t.mode;if(!p(t))throw new Error(JSON.stringify(t)+" is not a valid time object. Must be in the format {hrs24: 0, hrs12: 12, min: 0, mode: 'AM'} (12:00 AM)");var o=function(t,e,n,r){if("string"==typeof t&&"--"!==t||"number"==typeof t&&(t>r||t<n)){var i=M(t);throw new Error(e+" ("+i+') is invalid, "'+e+'" must be a number '+n+"-"+r+' or "--"')}};o(e,"hrs24",0,23),o(n,"hrs12",1,12),o(r,"min",0,59);var u=["AM","PM","--"];if(u.indexOf(i)<0)throw new Error("Mode ("+M(i)+") is invalid. Valid values are: "+u.map((function(t){return M(t)})));if(0===e&&12!==n||n!==e&&e<13&&0!==e||"number"==typeof e&&e>12&&n!==e-12)throw new Error("hrs12 ("+n+") should be equal to or 12 hours behind hrs24 ("+e+")");if("--"!==i&&(e>=12&&"PM"!==i||e<=11&&"AM"!==i))throw"PM"===i?new Error("If mode ("+i+') is "PM", hrs24 ('+e+") should be greater than or equal to 12"):new Error("If mode ("+i+') is "AM", hrs24 ('+e+") should be less than or equal to 11");return!0},A=function(t){if("number"!=typeof t&&"--"!==t||"number"==typeof t&&(t<0||t>23))throw new Error('"'+t+'" must be a number between 0 and 23 or "--", use 0 instead of 24');return!0};var x,T=((x=document.createElement("input")).setAttribute("type","time"),x.setAttribute("value","not-a-time"),"not-a-time"!==x.value);window&&(window.supportsTime=T);var H="--:-- --",P="",E={hrs24:"--",hrs12:"--",min:"--",mode:"--"},$=function(t){return y(t),{to24hr:function(){if(/-/.test(t))return"";var e=$(t).toTimeObject();return N(e).to24hr()},toTimeObject:function(){var e=u.string12hr.exec(t),n=[s(e[1]),s(e[2]),e[3]],r=n[0],i=n[1],o=n[2],a={hrs24:function(){if("number"==typeof r){if("PM"===o)return 12===r?12:r+12>23?r+12-24:r+12;if("AM"===o&&12===r)return 0}return r}(),hrs12:r,min:i,mode:o};return j(a),a}}},k=function(t){return O(t),{to12hr:function(){if(t===P)return H;var e=k(t).toTimeObject();return N(e).to12hr()},toTimeObject:function(){if(t===P)return E;var e=u.string24hr.exec(t),n=e[1],r=e[2],i=[s(n),s(r)],o=i[0],a=i[1],m={hrs24:o,hrs12:C(o).toHours12(),min:a,mode:(v(t)?"AM":d(t)&&"PM")||"--"};return j(m),m}}},N=function(t,e){void 0===e&&(e=!1),e||j(t);var n=t.hrs24,r=t.hrs12,i=t.min,o=t.mode,u=m(n),a=m(r),s=m(i);return{to12hr:function(){return a+":"+s+" "+o},to24hr:function(){var t=u+":"+s;return/-/.test(t)?"":t}}},C=function(t){A(t);return{toHours12:function(){return"number"==typeof t?t<=12?0===t?12:t:t-12:t}}},L=function(t){return{to12hr:function(){var e=L(t).toTimeObject();return N(e).to12hr()},to24hr:function(){var e=L(t).toTimeObject();return N(e).to24hr()},toTimeObject:function(){var e=[t.getHours(),t.getMinutes()],n=e[0],r=e[1];return{hrs24:n,hrs12:C(n).toHours12(),min:r,mode:l(n)?"AM":"PM"}}}},V=function(t,n){var r=D(t).cursorSegment(),i=r.segment,o="forward"===n?1:-1,u=e.map((function(t){return t.segment})).indexOf(i)+o;return e[u]||r},q=function(t){var e=t.value,n=u.string12hr.test(e),r=u.string24hr.test(e);return{as12hrString:function(){return n?e:k(e).to12hr()},as24hrString:function(){return r?e:$(e).to24hr()},asTimeObject:function(){return n?$(e).toTimeObject():k(e).toTimeObject()}}},I=function(t,e){void 0===e&&(e=window.document);var n=function(t,e){void 0===e&&(e=window.document);var n=t.getAttribute("aria-labelledby");if(n){var r=e.getElementById(n);if(r)return r.textContent}return""}(t,e)||function(t){var e=t.getAttribute("aria-label");return e||""}(t)||function(t,e){void 0===e&&(e=window.document);if(t.id){var n=e.querySelector('label[for="'+t.id+'"]');if(n)return n.textContent.trim()}return""}(t,e)||function(t){var e=R(t,"label"),n=e[e.length-1];return"LABEL"==n.nodeName?n.textContent.trim():""}(t)||function(t){var e=t.getAttribute("title");return e||""}(t);if(n)return n;throw console.error("Label text for input not found.",t),new Error("Cannot polyfill time input due to a missing label.")},D=function(e){return{rawSelection:function(){var n=function(e,n){return t[e].start<=n&&n<=t[e].end},r=e.selectionStart;return{start:r,end:e.selectionEnd,segment:(n("mode",r)?"mode":n("min",r)&&"min")||"hrs12"}},cursorSegment:function(){var n=D(e).rawSelection().segment;return t[n]},nextSegment:function(){return V(e,"forward")},prevSegment:function(){return V(e,"backward")}}},R=function(t,e){for(var n=t,r=[],i=0;n;){if(0!==i&&r.push(n),n.msMatchesSelector?n.msMatchesSelector(e):n.matches(e))return r;n=n.parentElement,i++}return r};var _=function(){function t(){this.hrs12=[],this.min=[],this.mode=[]}return t.prototype.clear=function(t){this[t]=[]},t.prototype.clearAll=function(){this.hrs12=[],this.min=[],this.mode=[]},t.prototype.add=function(t,e){this[t].push(e)},t}(),U={string12hr:$,string24hr:k},B=function(t){var e=t.timeString,n=t.format,r=t.action,i=t.target,o=t.integration;return function(t){var e=t.timeObject,n=t.action,r=t.target,i=t.integration,o=t.toHr,u=z(e)[n][r][i]();return N(u)[o]()}({timeObject:U[n](e).toTimeObject(),toHr:"string12hr"===n?"to12hr":"to24hr",target:i,action:r,integration:o})},z=function(t){return{increment:{hours:{isolated:function(){return Z("up",t)},integrated:function(){return F("up",t)}},minutes:{isolated:function(){var e=t.min,r=e===n.minutes.max?n.minutes.min:J(e,"up");return i(i({},t),{min:r})},integrated:function(){var e=t.min;return e===n.minutes.max?F("up",i(i({},t),{min:n.minutes.min})):i(i({},t),{min:J(e,"up")})}}},decrement:{hours:{isolated:function(){return Z("down",t)},integrated:function(){return F("down",t)}},minutes:{isolated:function(){var e=t.min,r=e===n.minutes.min?n.minutes.max:J(e,"down");return i(i({},t),{min:r})},integrated:function(){var e=t.min;return e===n.minutes.min?F("down",i(i({},t),{min:n.minutes.max})):i(i({},t),{min:J(e,"down")})}}},toggleMode:function(){var e=t.hrs12,n=t.mode,r=i({},t),o=b(t),u=function(t){var n;if("--"===e)n="--";else{var r=12===e,i={am:r?0:e,pm:r?12:e+12};n="AM"===t?i.am:i.pm}return n};if("--"===n){var a=(new Date).getHours()>11?"PM":"AM";r.mode=a,r.hrs24=u(a)}else r.mode=o?"PM":"AM",r.hrs24=u(o?"PM":"AM");return"--"===e&&"--"===n?r:K("hrs24",r)}}},J=function(t,e){var n="up"===e?1:-1;return"string"==typeof t?(new Date).getMinutes():t+n},Z=function(t,e){return G({direction:t,timeObject:e,integration:"isolated",blankCallback:function(t){var e=(new Date).getHours(),n=C(e).toHours12();return e>12&&"AM"===t.mode?t.hrs24=n:e<=12&&"PM"===t.mode?t.hrs24=e+12:t.hrs24=e,t.hrs12=n,t}})},F=function(t,e){return G({direction:t,timeObject:e,integration:"integrated",blankCallback:function(e){return Z(t,e)}})},G=function(t){var e=t.direction,r=t.timeObject,o=t.integration,u=t.blankCallback,a="integrated"===o?"hrs24":"hrs12",s=r[a],m=i({},r),c="up"===e,f=c?n[a].max:n[a].min,g=c?n[a].min:n[a].max,d=c?1:-1;return"number"==typeof s?(m[a]=s===f?g:s+d,K(a,m)):u(m)},K=function(t,e){var n="hrs12"===t,r=n?"to12hr":"to24hr",i=n?"string12hr":"string24hr",o=N(e,!0)[r]();return U[i](o).toTimeObject()},Q=Object.freeze({__proto__:null,ranges:t,rangesList:e,maxAndMins:n,segments:["hrs12","min","mode"],a11yCreate:function(t){void 0===t&&(t=window.document);var e=t.createElement("div");return e.setAttribute("aria-live","polite"),e.setAttribute("style","position: absolute; opacity: 0; height: 0; width: 0; overflow: hidden; pointer-events: none;"),e.id=r,t.querySelector("body").appendChild(e),e},a11yUpdate:function(t,e,n){void 0===n&&(n=window.document);var i=D(t).cursorSegment().segment,o=q(t).asTimeObject()[i],u="--"==o?"blank":o,a={hrs12:"Hours",min:"Minutes",mode:"AM/PM"}[i],s={initial:"$label grouping $fullValue.",select:"$segmentName spin button $segmentValue.",update:"$segmentValue."},m=e.map((function(t){return s[t]})),c=t.value.replace(/--/g,"blank"),f="<p>"+m.join("</p><p>")+"</p>",g=I(t,n);return f=(f=(f=(f=f.replace(/\$label/g,g)).replace(/\$segmentName/g,a)).replace(/\$segmentValue/g,""+u)).replace(/\$fullValue/g,c),n.getElementById(r).innerHTML=f,f},convertString12hr:$,convertString24hr:k,convertTimeObject:N,convertHours24:C,convertDateObject:L,getString12hr:function(t){var e=$(t).toTimeObject();return i(i({},e),{timeObject:e})},getString24hr:function(t){var e=k(t).toTimeObject();return i(i({},e),{timeObject:e})},getInputValue:q,getLabelTextOf:I,getRangeOf:D,getAncestorsOf:R,isPmHrs24:f,isPmString12hr:g,isPmString24hr:d,isPmTimeObject:h,isAmHrs24:l,isAmString12hr:function(t){return u.string12hr.test(t)&&-1===t.indexOf("--")&&!g(t)},isAmString24hr:v,isAmTimeObject:b,isTimeObject:p,isString12hr:S,isString24hr:w,ManualEntryLog:_,modifyString12hr:function(t){return{increment:{hours:{isolated:function(){return B({timeString:t,format:"string12hr",action:"increment",target:"hours",integration:"isolated"})},integrated:function(){return B({timeString:t,format:"string12hr",action:"increment",target:"hours",integration:"integrated"})}},minutes:{isolated:function(){return B({timeString:t,format:"string12hr",action:"increment",target:"minutes",integration:"isolated"})},integrated:function(){return B({timeString:t,format:"string12hr",action:"increment",target:"minutes",integration:"integrated"})}}},decrement:{hours:{isolated:function(){return B({timeString:t,format:"string12hr",action:"decrement",target:"hours",integration:"isolated"})},integrated:function(){return B({timeString:t,format:"string12hr",action:"decrement",target:"hours",integration:"integrated"})}},minutes:{isolated:function(){return B({timeString:t,format:"string12hr",action:"decrement",target:"minutes",integration:"isolated"})},integrated:function(){return B({timeString:t,format:"string12hr",action:"decrement",target:"minutes",integration:"integrated"})}}},toggleMode:function(){var e=$(t).toTimeObject(),n=z(e).toggleMode();return N(n,!0).to12hr()}}},modifyString24hr:function(t){return{increment:{hours:{isolated:function(){return B({timeString:t,format:"string24hr",action:"increment",target:"hours",integration:"isolated"})},integrated:function(){return B({timeString:t,format:"string24hr",action:"increment",target:"hours",integration:"integrated"})}},minutes:{isolated:function(){return B({timeString:t,format:"string24hr",action:"increment",target:"minutes",integration:"isolated"})},integrated:function(){return B({timeString:t,format:"string24hr",action:"increment",target:"minutes",integration:"integrated"})}}},decrement:{hours:{isolated:function(){return B({timeString:t,format:"string24hr",action:"decrement",target:"hours",integration:"isolated"})},integrated:function(){return B({timeString:t,format:"string24hr",action:"decrement",target:"hours",integration:"integrated"})}},minutes:{isolated:function(){return B({timeString:t,format:"string24hr",action:"decrement",target:"minutes",integration:"isolated"})},integrated:function(){return B({timeString:t,format:"string24hr",action:"decrement",target:"minutes",integration:"integrated"})}}},toggleMode:function(){var e=k(t).toTimeObject(),n=z(e).toggleMode();return N(n,!0).to24hr()}}},modifyTimeObject:z,regex:u,_$$:function(t){var e=document.querySelectorAll(t);return a(e)},selectSegment:function(e,n){e.setSelectionRange(t[n].start,t[n].end)},selectNextSegment:function(t){var e=D(t).nextSegment(),n=e.start,r=e.end;t.setSelectionRange(n,r)},selectPrevSegment:function(t){var e=D(t).prevSegment(),n=e.start,r=e.end;t.setSelectionRange(n,r)},selectCursorSegment:function(t){var e=D(t).cursorSegment(),n=e.start,r=e.end;t.setSelectionRange(n,r)},toArray:a,toNumber:s,toLeadingZero:m,validateString12hr:y,validateString24hr:O,validateTimeObject:j,validateHours24:A});window.timeInputPolyfillUtils=Q}();
